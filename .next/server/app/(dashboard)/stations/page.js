(()=>{var e={};e.id=462,e.ids=[462],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14985:e=>{"use strict";e.exports=require("dns")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19183:(e,t,s)=>{Promise.resolve().then(s.bind(s,89019))},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},26286:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>n});var r=s(65239),a=s(48088),o=s(88170),i=s.n(o),d=s(30893),l={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);s.d(t,l);let n={children:["",{children:["(dashboard)",{children:["stations",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,43133)),"C:\\Users\\ravip\\AndroidStudioProjects\\pmd-admin\\app\\(dashboard)\\stations\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,71934)),"C:\\Users\\ravip\\AndroidStudioProjects\\pmd-admin\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,58014)),"C:\\Users\\ravip\\AndroidStudioProjects\\pmd-admin\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\Users\\ravip\\AndroidStudioProjects\\pmd-admin\\app\\(dashboard)\\stations\\page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(dashboard)/stations/page",pathname:"/stations",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},43133:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\ravip\\\\AndroidStudioProjects\\\\pmd-admin\\\\app\\\\(dashboard)\\\\stations\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\ravip\\AndroidStudioProjects\\pmd-admin\\app\\(dashboard)\\stations\\page.tsx","default")},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63143:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},66039:(e,t,s)=>{Promise.resolve().then(s.bind(s,43133))},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},88233:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},89019:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(60687),a=s(43210),o=s(84617),i=s(96474),d=s(63143),l=s(88233);let n={name:250,district:200,stdCode:120,status:120,actions:120};function c(){let[e,t]=(0,a.useState)([]),[s,c]=(0,a.useState)([]),[u,p]=(0,a.useState)(!0),[x,m]=(0,a.useState)(!1),[h,b]=(0,a.useState)(null),[v,f]=(0,a.useState)(""),[g,y]=(0,a.useState)({name:"",stdCode:""}),[j,w]=(0,a.useState)(!1),[k,N]=(0,a.useState)(()=>n),[C,S]=(0,a.useState)(null),P=async e=>{try{console.log("Loading stations for district:",e||"all");let s=await (0,o.OT)(e);console.log("Loaded stations:",s),t(s),0===s.length&&e&&console.warn(`No stations found for district: ${e}`)}catch(e){console.error("Error loading stations:",e),alert("Failed to load stations. Please check the console for details.")}},A=e=>{b(e.id||null),y({name:e.name,stdCode:e.stdCode||""}),f(e.district),m(!0)},q=async(e,t)=>{if(confirm(`Are you sure you want to delete "${t}"?`))try{await (0,o.eT)(e),await P(v||void 0)}catch(e){console.error("Error deleting station:",e),alert("Failed to delete station")}},M=()=>{m(!1),b(null),y({name:"",stdCode:""}),h||f("")},_=(e,t)=>{e.preventDefault(),S(t);let s=e.pageX,r=k[t],a=e=>{let a=Math.max(50,r+(e.pageX-s));N(e=>({...e,[t]:a}))},o=()=>{S(null),document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",o)};document.addEventListener("mousemove",a),document.addEventListener("mouseup",o)},z=async e=>{if(e.preventDefault(),!v){alert("Please select a district");return}w(!0);try{h?await (0,o.WC)(h,{name:g.name.trim(),district:v,stdCode:g.stdCode.trim()||void 0}):await (0,o.Z1)({name:g.name.trim(),district:v,stdCode:g.stdCode.trim()||void 0}),M(),await P(v)}catch(e){console.error("Error saving station:",e),alert(`Failed to ${h?"update":"create"} station`)}finally{w(!1)}},D=v?e.filter(e=>e.district===v):e;return u?(0,r.jsx)("div",{className:"flex h-screen items-center justify-center bg-gradient-dark",children:(0,r.jsx)("div",{className:"text-lg text-slate-100-secondary",children:"Loading..."})}):(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-400 to-blue-400 bg-clip-text text-transparent",children:"Stations"}),(0,r.jsxs)("button",{onClick:()=>m(!x),className:"flex items-center gap-2 rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 px-4 py-2 text-white transition-all hover:shadow-lg hover:shadow-purple-500/50",children:[(0,r.jsx)(i.A,{className:"h-5 w-5"}),"Add Station"]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-slate-100-secondary",children:"Filter by District"}),(0,r.jsxs)("select",{value:v,onChange:e=>f(e.target.value),className:"mt-1 block w-full max-w-xs rounded-md bg-dark-card border border-dark-border px-3 py-2 text-slate-100 focus:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500/50",children:[(0,r.jsx)("option",{value:"",children:"All Districts"}),s.map(e=>(0,r.jsx)("option",{value:e.name,children:e.name},e.id))]})]}),x&&(0,r.jsxs)("div",{className:"mb-6 rounded-lg bg-dark-card border border-dark-border p-6 shadow-lg",children:[(0,r.jsx)("h2",{className:"mb-4 text-xl font-semibold text-slate-100",children:h?"Edit Station":"Add New Station"}),(0,r.jsxs)("form",{onSubmit:z,children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-slate-100-secondary",children:"Name *"}),(0,r.jsx)("input",{type:"text",required:!0,value:g.name,onChange:e=>y({...g,name:e.target.value}),className:"mt-1 block w-full rounded-md bg-dark-sidebar border border-dark-border px-3 py-2 text-slate-100 placeholder-slate-400 focus:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500/50"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-slate-100-secondary",children:"District *"}),(0,r.jsxs)("select",{required:!0,value:v,onChange:e=>f(e.target.value),className:"mt-1 block w-full rounded-md bg-dark-sidebar border border-dark-border px-3 py-2 text-slate-100 focus:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500/50",children:[(0,r.jsx)("option",{value:"",children:"Select District"}),s.map(e=>(0,r.jsx)("option",{value:e.name,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-slate-100-secondary",children:"STD Code"}),(0,r.jsx)("input",{type:"text",value:g.stdCode,onChange:e=>y({...g,stdCode:e.target.value}),className:"mt-1 block w-full rounded-md bg-dark-sidebar border border-dark-border px-3 py-2 text-slate-100 placeholder-slate-400 focus:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500/50"})]})]}),(0,r.jsxs)("div",{className:"mt-4 flex gap-4",children:[(0,r.jsx)("button",{type:"submit",disabled:j,className:"rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 px-6 py-2 text-white transition-all hover:shadow-lg hover:shadow-purple-500/50 disabled:opacity-50",children:j?"Saving...":"Save Station"}),(0,r.jsx)("button",{type:"button",onClick:M,className:"rounded-lg border border-dark-border px-6 py-2 text-slate-100-secondary transition-colors hover:bg-dark-sidebar hover:text-slate-100",children:"Cancel"})]})]})]}),(0,r.jsxs)("div",{className:"overflow-x-auto rounded-lg bg-dark-card border border-dark-border shadow-lg",style:{overflowX:"scroll",WebkitOverflowScrolling:"touch"},children:[(0,r.jsxs)("table",{className:"w-full",style:{tableLayout:"fixed"},children:[(0,r.jsx)("thead",{className:"bg-dark-sidebar border-b border-dark-border",children:(0,r.jsxs)("tr",{children:[(0,r.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-slate-100-secondary relative",style:{width:k.name},children:["Name",(0,r.jsx)("div",{onMouseDown:e=>_(e,"name"),style:{cursor:"col-resize"},className:"absolute top-0 right-0 w-1 h-full cursor-col-resize hover:bg-purple-500"})]}),(0,r.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-slate-100-secondary relative",style:{width:k.district},children:["District",(0,r.jsx)("div",{onMouseDown:e=>_(e,"district"),style:{cursor:"col-resize"},className:"absolute top-0 right-0 w-1 h-full cursor-col-resize hover:bg-purple-500"})]}),(0,r.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-slate-100-secondary relative",style:{width:k.stdCode},children:["STD Code",(0,r.jsx)("div",{onMouseDown:e=>_(e,"stdCode"),style:{cursor:"col-resize"},className:"absolute top-0 right-0 w-1 h-full cursor-col-resize hover:bg-purple-500"})]}),(0,r.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-slate-100-secondary relative",style:{width:k.status},children:["Status",(0,r.jsx)("div",{onMouseDown:e=>_(e,"status"),style:{cursor:"col-resize"},className:"absolute top-0 right-0 w-1 h-full cursor-col-resize hover:bg-purple-500"})]}),(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-slate-100-secondary relative",style:{width:k.actions},children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-dark-border bg-dark-card",children:D.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-dark-sidebar transition-colors",children:[(0,r.jsx)("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium text-slate-100 overflow-hidden text-ellipsis",style:{maxWidth:k.name},children:e.name}),(0,r.jsx)("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-slate-100-secondary overflow-hidden text-ellipsis",style:{maxWidth:k.district},children:e.district}),(0,r.jsx)("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-slate-100-secondary overflow-hidden text-ellipsis",style:{maxWidth:k.stdCode},children:e.stdCode||"N/A"}),(0,r.jsx)("td",{className:"whitespace-nowrap px-6 py-4 overflow-hidden text-ellipsis",style:{maxWidth:k.status},children:(0,r.jsx)("span",{className:"inline-flex rounded-full bg-green-500/20 px-2 text-xs font-semibold text-green-400",children:"Active"})}),(0,r.jsx)("td",{className:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium",children:(0,r.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,r.jsx)("button",{onClick:()=>A(e),className:"text-purple-400 hover:text-purple-300 transition-colors",title:"Edit",children:(0,r.jsx)(d.A,{className:"h-5 w-5"})}),(0,r.jsx)("button",{onClick:()=>q(e.id,e.name),className:"text-red-400 hover:text-red-300 transition-colors",title:"Delete",children:(0,r.jsx)(l.A,{className:"h-5 w-5"})})]})})]},e.id))})]}),0===D.length&&(0,r.jsx)("div",{className:"py-12 text-center text-slate-100-secondary",children:"No stations found"})]})]})}},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96474:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[447,192,151,454],()=>s(26286));module.exports=r})();