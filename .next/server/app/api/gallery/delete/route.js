(()=>{var e={};e.id=350,e.ids=[350],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},55405:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>y,routeModule:()=>d,serverHooks:()=>g,workAsyncStorage:()=>p,workUnitAsyncStorage:()=>m});var o={};r.r(o),r.d(o,{POST:()=>u,dynamic:()=>i});var s=r(96559),a=r(48088),n=r(37719),l=r(32190);let i="force-dynamic",c=()=>{let e=process.env.APPS_SCRIPT_SECRET_TOKEN||"Ravi@PMD_2025_Secure_Token";return e&&"CHANGE_THIS_IN_PRODUCTION"!==e?e:"Ravi@PMD_2025_Secure_Token"};async function u(e){try{let{title:t,userEmail:r}=await e.json();if(!t)return l.NextResponse.json({success:!1,error:"Missing required field: title"},{status:400});let o=c(),s=`https://script.google.com/macros/s/AKfycbwXIhqfYWER3Z2KBlcrqZjyWCBfacHOeKCo_buWaZ6nG7qQpWaN91V7Y-IclzmOvG73/exec?action=delete&token=${encodeURIComponent(o)}`;console.log("Gallery Delete API Route: Deleting image:",t),console.log("Gallery Delete API Route: User:",r||"admin@pmd.com");let a=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"delete",title:t,userEmail:r||"admin@pmd.com",token:o}),cache:"no-store"});if(!a.ok){let e=await a.text();throw console.error("Gallery Delete API Route: Delete error response:",e),Error(`HTTP error! status: ${a.status}, body: ${e}`)}let n=await a.json();return console.log("Gallery Delete API Route: Delete response:",n),l.NextResponse.json(n,{status:200,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Authorization"}})}catch(e){return console.error("Gallery Delete API Route: Error deleting image:",e),l.NextResponse.json({success:!1,error:e.message||"Failed to delete image"},{status:500})}}let d=new s.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/gallery/delete/route",pathname:"/api/gallery/delete",filename:"route",bundlePath:"app/api/gallery/delete/route"},resolvedPagePath:"C:\\Users\\ravip\\AndroidStudioProjects\\pmd-admin\\app\\api\\gallery\\delete\\route.ts",nextConfigOutput:"",userland:o}),{workAsyncStorage:p,workUnitAsyncStorage:m,serverHooks:g}=d;function y(){return(0,n.patchFetch)({workAsyncStorage:p,workUnitAsyncStorage:m})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},96487:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[447,580],()=>r(55405));module.exports=o})();