(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[253],{477:(e,s,t)=>{Promise.resolve().then(t.bind(t,2727))},2727:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var a=t(5155),r=t(2115),i=t(1593),n=t(9946);let c=(0,n.A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),l=(0,n.A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),d=(0,n.A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var o=t(3999);function x(){let[e,s]=(0,r.useState)([]),[t,n]=(0,r.useState)(!0);(0,r.useEffect)(()=>{x()},[]);let x=async()=>{try{let e=await (0,i.wz)();s(e)}catch(e){console.error("Error loading registrations:",e)}finally{n(!1)}},h=async e=>{if(e.id&&confirm("Approve registration for ".concat(e.name,"?")))try{await (0,i.Bf)(e.id,e),await x()}catch(e){console.error("Error approving registration:",e),alert("Failed to approve registration")}},m=async(e,s)=>{if(confirm("Reject registration for ".concat(s,"?")))try{await (0,i.xb)(e),await x()}catch(e){console.error("Error rejecting registration:",e),alert("Failed to reject registration")}};return t?(0,a.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,a.jsx)("div",{className:"text-lg text-gray-600",children:"Loading..."})}):(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:["Pending Approvals (",e.length,")"]}),(0,a.jsxs)("button",{onClick:x,className:"flex items-center gap-2 rounded-lg border border-gray-300 px-4 py-2 text-gray-700 transition-colors hover:bg-gray-50",children:[(0,a.jsx)(c,{className:"h-5 w-5"}),"Refresh"]})]}),0===e.length?(0,a.jsx)("div",{className:"rounded-lg bg-white p-12 text-center shadow-md",children:(0,a.jsx)("p",{className:"text-lg text-gray-500",children:"No pending registrations"})}):(0,a.jsx)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(e=>(0,a.jsxs)("div",{className:"rounded-lg bg-white p-6 shadow-md",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.email})]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-700",children:"KGID:"})," ",(0,a.jsx)("span",{className:"text-gray-900",children:e.kgid})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-700",children:"Mobile:"})," ",(0,a.jsx)("span",{className:"text-gray-900",children:e.mobile1})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-700",children:"Rank:"})," ",(0,a.jsx)("span",{className:"text-gray-900",children:e.rank||"N/A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-700",children:"District:"})," ",(0,a.jsx)("span",{className:"text-gray-900",children:e.district})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-700",children:"Station:"})," ",(0,a.jsx)("span",{className:"text-gray-900",children:e.station})]}),e.createdAt&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-700",children:"Created:"})," ",(0,a.jsx)("span",{className:"text-gray-900",children:(0,o.r)(e.createdAt.toDate())})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex gap-2",children:[(0,a.jsxs)("button",{onClick:()=>h(e),className:"flex flex-1 items-center justify-center gap-2 rounded-lg bg-green-600 px-4 py-2 text-white transition-colors hover:bg-green-700",children:[(0,a.jsx)(l,{className:"h-4 w-4"}),"Approve"]}),(0,a.jsxs)("button",{onClick:()=>m(e.id,e.name),className:"flex flex-1 items-center justify-center gap-2 rounded-lg bg-red-600 px-4 py-2 text-white transition-colors hover:bg-red-700",children:[(0,a.jsx)(d,{className:"h-4 w-4"}),"Reject"]})]})]},e.id))})]})}},3999:(e,s,t)=>{"use strict";t.d(s,{cn:()=>i,r:()=>n});var a=t(2596),r=t(9688);function i(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}function n(e){return e?("string"==typeof e?new Date(e):e).toLocaleString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}}},e=>{var s=s=>e(e.s=s);e.O(0,[135,563,521,598,974,441,684,358],()=>s(477)),_N_E=e.O()}]);