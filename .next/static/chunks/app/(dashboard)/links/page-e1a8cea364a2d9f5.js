(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[644],{3786:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});let l=(0,t(9946).A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},4616:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});let l=(0,t(9946).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8164:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});let l=(0,t(9946).A)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},8263:(e,r,t)=>{Promise.resolve().then(t.bind(t,8435))},8435:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>g});var l=t(5155),a=t(2115),s=t(1593),i=t(7505),n=t(1138);let o=async(e,r)=>{if(!n.IG)throw Error("Firebase Storage is not initialized");let t=(0,i.KR)(n.IG,e);return await (0,i.D)(t,r),(0,i.qk)(t)};var c=t(5317),d=t(4616),m=t(8164),p=t(9869),x=t(3786);function g(){let[e,r]=(0,a.useState)([]),[t,i]=(0,a.useState)(!0),[n,g]=(0,a.useState)(!1),[u,h]=(0,a.useState)("url"),[y,f]=(0,a.useState)({name:"",playStoreUrl:"",apkUrl:"",iconUrl:""}),[b,v]=(0,a.useState)(null),[j,w]=(0,a.useState)(null),[k,N]=(0,a.useState)(0),[U,A]=(0,a.useState)(!1);(0,a.useEffect)(()=>{S()},[]);let S=async()=>{try{let e=await (0,s.Kl)();r(e)}catch(e){console.error("Error loading links:",e)}finally{i(!1)}},C=async e=>{e.preventDefault(),A(!0),N(0);try{let e=y.apkUrl.trim()||void 0,r=y.iconUrl.trim()||void 0;if(!e&&b){N(25);let r=y.name.toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_+|_+$/g,"")||"link",t="".concat(r,"_").concat(Date.now(),"_").concat(Math.random().toString(36).substring(7),".apk");try{e=await o("useful_links/apks/".concat(t),b),console.log("APK uploaded successfully:",e),N(50)}catch(e){throw console.error("APK upload failed:",e),Error("Failed to upload APK file. Please check your internet connection and try again.")}}if(!r&&j){N(75);let e=y.name.toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_+|_+$/g,"")||"link",t="".concat(e,"_").concat(Date.now(),"_").concat(Math.random().toString(36).substring(7),".jpg");try{r=await o("useful_links/icons/".concat(t),j),console.log("Icon uploaded successfully:",r)}catch(e){console.warn("Icon upload failed, continuing without icon:",e)}}let t=y.playStoreUrl.trim().length>0,l=!!e;if(!t&&!l)throw Error("Provide either Play Store URL OR APK file/URL");N(90);let a=c.Dc.now();await (0,s.Rr)({name:y.name.trim(),playStoreUrl:t?y.playStoreUrl.trim():void 0,apkUrl:e,iconUrl:r,createdAt:a,updatedAt:a}),N(100),f({name:"",playStoreUrl:"",apkUrl:"",iconUrl:""}),v(null),w(null),N(0),g(!1),await S()}catch(e){console.error("Error creating link:",e),alert((null==e?void 0:e.message)||"Failed to create link")}finally{A(!1),N(0)}};return t?(0,l.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,l.jsx)("div",{className:"text-lg text-gray-600",children:"Loading..."})}):(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Useful Links"}),(0,l.jsxs)("button",{onClick:()=>g(!n),className:"flex items-center gap-2 rounded-lg bg-primary-600 px-4 py-2 text-white transition-colors hover:bg-primary-700",children:[(0,l.jsx)(d.A,{className:"h-5 w-5"}),"Add Link"]})]}),n&&(0,l.jsxs)("div",{className:"mb-6 rounded-lg bg-white p-6 shadow-md",children:[(0,l.jsx)("h2",{className:"mb-4 text-xl font-semibold",children:"Add New Link"}),(0,l.jsxs)("div",{className:"mb-4 flex gap-2 border-b border-gray-200",children:[(0,l.jsxs)("button",{type:"button",onClick:()=>{h("url"),v(null),w(null)},className:"flex items-center gap-2 px-4 py-2 font-medium transition-colors ".concat("url"===u?"border-b-2 border-primary-600 text-primary-600":"text-gray-500 hover:text-gray-700"),children:[(0,l.jsx)(m.A,{className:"h-4 w-4"}),"URLs"]}),(0,l.jsxs)("button",{type:"button",onClick:()=>{h("file"),f({...y,apkUrl:"",iconUrl:""})},className:"flex items-center gap-2 px-4 py-2 font-medium transition-colors ".concat("file"===u?"border-b-2 border-primary-600 text-primary-600":"text-gray-500 hover:text-gray-700"),children:[(0,l.jsx)(p.A,{className:"h-4 w-4"}),"Upload Files"]})]}),(0,l.jsxs)("form",{onSubmit:C,children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Name *"}),(0,l.jsx)("input",{type:"text",required:!0,value:y.name,onChange:e=>f({...y,name:e.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Play Store URL"}),(0,l.jsx)("input",{type:"url",value:y.playStoreUrl,onChange:e=>f({...y,playStoreUrl:e.target.value}),placeholder:"https://play.google.com/store/apps/...",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),"file"===u?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"APK File *"}),(0,l.jsx)("input",{type:"file",accept:".apk",onChange:e=>{var r;let t=null===(r=e.target.files)||void 0===r?void 0:r[0];if(t&&(v(t),!y.name)){let e=t.name.replace(/\.apk$/i,"");f({...y,name:e})}},className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"}),b&&(0,l.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["Selected: ",b.name," (",(b.size/1024/1024).toFixed(2)," MB)"]}),(0,l.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Or provide APK URL below if file is already hosted"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Icon Image"}),(0,l.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var r;let t=null===(r=e.target.files)||void 0===r?void 0:r[0];if(t){if(!t.type.startsWith("image/")){alert("Please select an image file");return}w(t)}},className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"}),j&&(0,l.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["Selected: ",j.name," (",(j.size/1024).toFixed(2)," KB)"]}),(0,l.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Or provide Icon URL below if image is already hosted"})]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"APK URL"}),(0,l.jsx)("input",{type:"url",value:y.apkUrl,onChange:e=>f({...y,apkUrl:e.target.value}),placeholder:"https://example.com/app.apk",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Icon URL"}),(0,l.jsx)("input",{type:"url",value:y.iconUrl,onChange:e=>f({...y,iconUrl:e.target.value}),placeholder:"https://example.com/icon.png",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 text-gray-900 placeholder-gray-500 focus:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]})]}),k>0&&k<100&&(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsxs)("div",{className:"mb-1 flex justify-between text-sm text-gray-600",children:[(0,l.jsx)("span",{children:"Uploading..."}),(0,l.jsxs)("span",{children:[k,"%"]})]}),(0,l.jsx)("div",{className:"h-2 w-full overflow-hidden rounded-full bg-gray-200",children:(0,l.jsx)("div",{className:"h-full bg-primary-600 transition-all duration-300",style:{width:"".concat(k,"%")}})})]}),(0,l.jsxs)("div",{className:"mt-4 flex gap-4",children:[(0,l.jsx)("button",{type:"submit",disabled:U||"file"===u&&!b&&!y.apkUrl.trim(),className:"rounded-lg bg-primary-600 px-6 py-2 text-white transition-colors hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:U?"Saving...":"Save Link"}),(0,l.jsx)("button",{type:"button",onClick:()=>{g(!1),f({name:"",playStoreUrl:"",apkUrl:"",iconUrl:""}),v(null),w(null),N(0)},className:"rounded-lg border border-gray-300 px-6 py-2 text-gray-700 transition-colors hover:bg-gray-50",children:"Cancel"})]})]})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(e=>(0,l.jsxs)("div",{className:"rounded-lg bg-white p-6 shadow-md transition-shadow hover:shadow-lg",children:[(0,l.jsxs)("div",{className:"mb-4 flex items-center gap-4",children:[e.iconUrl?(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("img",{src:e.iconUrl,alt:e.name,className:"h-16 w-16 rounded-lg object-cover border border-gray-200",loading:"lazy",referrerPolicy:"no-referrer",onError:r=>{let t=r.currentTarget;if(!t.dataset.failed){var l;if(t.dataset.failed="1",null===(l=e.iconUrl)||void 0===l?void 0:l.includes("lh3.googleusercontent.com")){let r=e.iconUrl.match(/\/d\/([-\w]{25,})/);if(r){let e=r[1];t.src="https://drive.google.com/thumbnail?id=".concat(e,"&sz=w200");return}}t.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='64'%3E%3Crect fill='%23e5e7eb' width='64' height='64' rx='8'/%3E%3Ctext fill='%239ca3af' font-family='sans-serif' font-size='24' font-weight='bold' x='50%25' y='50%25' text-anchor='middle' dy='.3em'%3EApp%3C/text%3E%3C/svg%3E"}}})}):(0,l.jsx)("div",{className:"flex-shrink-0",children:(0,l.jsx)("div",{className:"flex h-16 w-16 items-center justify-center rounded-lg bg-gray-100 border border-gray-200",children:(0,l.jsx)("span",{className:"text-2xl font-bold text-gray-400",children:e.name.charAt(0).toUpperCase()})})}),(0,l.jsx)("div",{className:"flex-1 min-w-0",children:(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:e.name})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[e.playStoreUrl&&(0,l.jsxs)("a",{href:e.playStoreUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 rounded-md bg-blue-50 px-3 py-2 text-sm text-blue-700 transition-colors hover:bg-blue-100",children:[(0,l.jsx)(x.A,{className:"h-4 w-4"}),"Play Store"]}),e.apkUrl&&(0,l.jsxs)("a",{href:e.apkUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 rounded-md bg-green-50 px-3 py-2 text-sm text-green-700 transition-colors hover:bg-green-100",children:[(0,l.jsx)(x.A,{className:"h-4 w-4"}),"Download APK"]})]})]},e.id))}),0===e.length&&(0,l.jsx)("div",{className:"rounded-lg bg-white p-12 text-center shadow-md",children:(0,l.jsx)("p",{className:"text-lg text-gray-500",children:"No links found"})})]})}},9869:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});let l=(0,t(9946).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},9946:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});var l=t(2115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,l.forwardRef)((e,r)=>{let{color:t="currentColor",size:a=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:m,...p}=e;return(0,l.createElement)("svg",{ref:r,...i,width:a,height:a,stroke:t,strokeWidth:o?24*Number(n)/Number(a):n,className:s("lucide",c),...p},[...m.map(e=>{let[r,t]=e;return(0,l.createElement)(r,t)}),...Array.isArray(d)?d:[d]])}),o=(e,r)=>{let t=(0,l.forwardRef)((t,i)=>{let{className:o,...c}=t;return(0,l.createElement)(n,{ref:i,iconNode:r,className:s("lucide-".concat(a(e)),o),...c})});return t.displayName="".concat(e),t}}},e=>{var r=r=>e(e.s=r);e.O(0,[135,563,521,974,441,684,358],()=>r(8263)),_N_E=e.O()}]);